<script type="text/ng-template" id="myModalContent.html">
    <div class="modal-header">
        <h3 class="modal-title">Add a new alarm!</h3>
    </div>
    <div class="modal-body">

        <form role="form">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" name="name" ng-model="formData.name">
            </div>
            <div class="form-group">
                <label for="message">Message</label>
                <input type="text" class="form-control" name="message" ng-model="formData.message">
            </div>
            <div class="form-group">
                <label for="severity">Severity</label>
                <input type="text" class="form-control" name="severity" ng-model="formData.severity">
            </div>
            <div class="form-group">
                <label for="days">Days</label>
                <input type="text" class="form-control" name="days" ng-model="formData.days">
            </div>
            <div class="form-group">
                <label for="time">Time</label>
                <uib-timepicker ng-model="formData.time" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></uib-timepicker>
                <pre class="alert alert-info">Choosen time is: {{formData.time | date:'shortTime' }}</pre>
            </div>
            <div class="form-group">
                <label for="deadline">Deadline</label>
                <uib-timepicker ng-model="formData.deadline" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></uib-timepicker>
                <pre class="alert alert-info">Choosen time is: {{formData.deadline | date:'shortTime' }}</pre>
            </div>
            <div class="form-group row">
            <div class="col-xs-6 col-xs-offset-3">
                <a ng-click="ok()" class="btn btn-block btn-info">
                Submit <span class="glyphicon glyphicon-circle-arrow-right"></span>
                </a>
            </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-warning" type="button" ng-click="cancel()">Close</button>
    </div>
</script>

<div class="container-fluid">
    <br><br>
    <div class="row">
        <div class="col-sm-6"><h2>Alarms</h2></div>
        <div class="col-sm-6">
            <button type="button" class="btn btn-primary pull-right" ng-click="createModal(null)">Add Alarm</button>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-8">
            <uib-accordion close-others="oneAtATime">
                <uib-accordion-group ng-repeat="alarm in alarms">
                    <uib-accordion-heading ng-click="isopen=!isopen">
                        <div>{{alarm.name}}
                           <i class="pull-right glyphicon"
                              ng-class="{'glyphicon-chevron-down': isopen, 'glyphicon-chevron-right': !isopen}">
                           </i></div>
                    </uib-accordion-heading>
                    <div class="row">
                            <button type="button" class="btn btn-primary pull-right" ng-click="updateAlarm(alarm)" ng-model="alarm.status" uib-btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false">On/Off</button>
                            <button type="button" class="btn btn-primary pull-right" ng-click="createModal(alarm)">Edit</button>
                    </div>
                    <div class="row">
                        <div class="col-sm-8">
                            <table class="table">
                                <tbody>
                                    <tr ng-repeat="(key, value) in alarm">
                                        <td class="text-primary">{{key}}</td>
                                        <td class="text-success">{{value}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        <div class="col-sm-4">
                        </div>
                    </div>
                </uib-accordion-group>
            </uib-accordion>
            </div>
        </div>
        <div class="col-sm-4"></div>
    </div>
</div>
